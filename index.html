<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO æ¨™ç±¤ --><title>æˆ‘çš„ AI åŠ©ç†å®‰å…¨éƒ¨ç½²ç­†è¨˜ï¼šå¾é‡‘é‘°å¤–æ´©åˆ°æ¶æ§‹é‡æ•´çš„ 48 å°æ™‚</title>
  <meta name="description" content="ä¸€ä»½çœŸå¯¦çš„å­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„ä¸€å€‹åˆå­¸è€…å¦‚ä½•è™•ç† API é‡‘é‘°å¤–æ´©ã€å·¨é¡å¸³å–®ï¼Œä¸¦åœ¨ 48 å°æ™‚å…§é‡æ§‹å‰å¾Œç«¯æ¶æ§‹ï¼Œæœ€çµ‚æˆåŠŸéƒ¨ç½²å®‰å…¨ AI åŠ©ç†çš„å®Œæ•´éç¨‹ã€‚">
  <meta name="keywords" content="API é‡‘é‘°å¤–æ´©, API Key, Google Gemini, Cloudflare Workers, Cloudflare Pages, GitHub Actions, å‰å¾Œå°åˆ†é›¢, 401, 404, 502, Missing API Key, å­¸ç¿’ç­†è¨˜">
  
  <!-- Open Graph (ç¤¾ç¾¤åˆ†äº«æ¨™ç±¤) --><meta property="og:title" content="æˆ‘çš„ AI åŠ©ç†å®‰å…¨éƒ¨ç½²ç­†è¨˜ï¼šå¾é‡‘é‘°å¤–æ´©åˆ°æ¶æ§‹é‡æ•´çš„ 48 å°æ™‚">
  <meta property="og:description" content="ä¸€ä»½çœŸå¯¦çš„å­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„ä¸€å€‹åˆå­¸è€…å¦‚ä½•è™•ç† API é‡‘é‘°å¤–æ´©ã€å·¨é¡å¸³å–®ï¼Œä¸¦åœ¨ 48 å°æ™‚å…§é‡æ§‹å‰å¾Œç«¯æ¶æ§‹ï¼Œæœ€çµ‚æˆåŠŸéƒ¨ç½²å®‰å…¨ AI åŠ©ç†çš„å®Œæ•´éç¨‹ã€‚">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://i.urusai.cc/a3u6a.jpg">
  <meta property="og:locale" content="zh_TW">

  <!-- Twitter Card --><meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="æˆ‘çš„ AI åŠ©ç†å®‰å…¨éƒ¨ç½²ç­†è¨˜ï¼šå¾é‡‘é‘°å¤–æ´©åˆ°æ¶æ§‹é‡æ•´çš„ 48 å°æ™‚">
  <meta name="twitter:description" content="ä¸€ä»½çœŸå¯¦çš„å­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„ä¸€å€‹åˆå­¸è€…å¦‚ä½•è™•ç† API é‡‘é‘°å¤–æ´©ã€å·¨é¡å¸³å–®ï¼Œä¸¦åœ¨ 48 å°æ™‚å…§é‡æ§‹å‰å¾Œç«¯æ¶æ§‹ï¼Œæœ€çµ‚æˆåŠŸéƒ¨ç½²å®‰å…¨ AI åŠ©ç†çš„å®Œæ•´éç¨‹ã€‚">
  <meta name="twitter:image" content="https://i.urusai.cc/a3u6a.jpg">

  <!-- ç¶²é æ¨£å¼ (Tailwind & Fonts) --><script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: 'Noto Sans TC', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    [id] { scroll-margin-top: 6rem; }
    
    .content h1 { 
      font-size: 1.75rem; /* 28px */ 
      font-weight: 700; 
      margin-top: 2.5rem; 
      margin-bottom: 1.25rem; 
      border-bottom: 2px solid #10b981; 
      padding-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .content h2 { font-size: 1.5rem; font-weight: 600; margin-top: 2.5rem; margin-bottom: 1rem; }
    .content h3 { font-size: 1.25rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; }
    .content p { font-size: 1rem; line-height: 1.8; margin-bottom: 1rem; }
    .content code { background-color: #f3f4f6; color: #db2777; padding: 0.2rem 0.5rem; border-radius: 0.25rem; font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; font-size: 0.9em; word-break: break-all; }
    .content pre { background-color: #1f2937; color: #e5e7eb; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 1rem; }
    .content pre code { background-color: transparent; color: inherit; padding: 0; }
    .content ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; font-size: 1rem; line-height: 1.8; padding-left: 0.5rem; }
    .content ol { list-style-type: decimal; margin-left: 1.5rem; margin-bottom: 1rem; font-size: 1rem; line-height: 1.8; padding-left: 0.5rem; }
    .content .highlight { background-color: #fffbeb; color: #b45309; padding: 0.2rem 0.5rem; border-radius: 0.25rem; font-weight: 600; }
    .content .error-msg { background-color: #fef2f2; color: #dc2626; border: 1px solid #fca5a5; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; overflow-x: auto; }
    
    /* éŸ¿æ‡‰å¼å­—é«”èª¿æ•´ */
    @media (min-width: 640px) {
      .content h1 { font-size: 2.25rem; } .content h2 { font-size: 1.875rem; } .content h3 { font-size: 1.5rem; }
      .content p { font-size: 1.125rem; } .content ul { font-size: 1.125rem; } .content ol { font-size: 1.125rem; }
    }
    
    /* å°è¦½æŒ‰éˆ•æ¨£å¼ */
    .nav-button { 
      transition: all 0.2s ease-in-out; 
    }
    .nav-button:hover { 
      background-color: #d1fae5; 
      color: #065f46; 
      transform: translateY(-2px);
    }

    /* åœ–ç‰‡åº«æ¨£å¼ */
    .image-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }
    .image-gallery img {
      width: 100%;
      height: auto;
      border-radius: 0.5rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
    }
    .image-gallery img:hover {
      transform: scale(1.03);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
  </style>
  
  <!-- 
    âœ… [AIO å„ªåŒ–] 1. Article Schema
    å·²æ›´æ–°ç‚ºä½ çš„çœŸå¯¦ç¶²å€å’Œåœ–ç‰‡
  --><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "AI åŠ©ç†å®‰å…¨éƒ¨ç½²æ•™å­¸ï¼šä¿è­· API é‡‘é‘°èˆ‡å‰å¾Œå°ä¸²æ¥ (Cloudflare & Google AI)",
    "description": "ä¸€ä»½çµ¦ç¨‹å¼ç¢¼åˆå­¸è€…çš„ AI åŠ©ç†éƒ¨ç½²ç­†è¨˜ã€‚æ•™ä½ å¦‚ä½•å®‰å…¨åœ°å°‡ API é‡‘é‘°æ”¾åœ¨ Cloudflare ç’°å¢ƒè®Šæ•¸ï¼Œä¸¦ä¸²æ¥å‰å¾Œå°ï¼Œè§£æ±º Missing API Key èˆ‡ 404 Model Not Found éŒ¯èª¤ã€‚",
    "image": "https://i.urusai.cc/a3u6a.jpg",
    "datePublished": "2025-11-03T02:00:00+08:00",
    "dateModified": "2025-11-03T08:05:00+08:00",
    "author": {
      "@type": "Person",
      "name": "ç¨‹å¼å¤¥ä¼´ (AI åŠ©ç†)"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Hjuming's Learning Notebook",
      "logo": {
        "@type": "ImageObject",
        "url": "https://i.imgur.com/g.png"
      }
    }
  }
  </script>

</head>
<body class="bg-gray-100 text-gray-800 leading-relaxed">

  <!-- Header --><header class="bg-gradient-to-r from-red-600 to-yellow-500 text-white shadow-lg">
    <div class="max-w-5xl mx-auto p-6 sm:p-8">
      <h1 class="text-3xl sm:text-4xl font-bold">æˆ‘çš„ AI åŠ©ç†å®‰å…¨éƒ¨ç½²ç­†è¨˜</h1>
      <p class="text-lg sm:text-xl mt-2">ä¸€å€‹åˆå­¸è€…çš„è¡€æ·šç´€å¿µï¼šå¾é‡‘é‘°å¤–æ´©åˆ°æ¶æ§‹é‡æ•´çš„ 48 å°æ™‚</p>
    </div>
  </header>

  <!-- å°è¦½åˆ— --><nav class="sticky top-0 bg-white shadow-md z-50">
    <div class="max-w-5xl mx-auto px-4">
      <div class="hidden md:flex flex-wrap items-center justify-center space-x-1 lg:space-x-2 h-16">
        <a href="#danger" class="nav-button px-3 py-2 rounded-md text-sm font-semibold text-gray-700 hover:bg-gray-100">ğŸš¨ é€±æœ«éœ‡æ’¼</a>
        <a href="#architecture" class="nav-button px-3 py-2 rounded-md text-sm font-semibold text-gray-700 hover:bg-gray-100">âœ… æ­£ç¢ºæ¶æ§‹</a>
        <a href="#tutorial" class="nav-button px-3 py-2 rounded-md text-sm font-semibold text-gray-700 hover:bg-gray-100">ğŸš€ è‡ªå‹•åŒ–éƒ¨ç½²</a>
        <a href="#debugging" class="nav-button px-3 py-2 rounded-md text-sm font-semibold text-gray-700 hover:bg-gray-100">ğŸ” 12å°æ™‚é¬¼æ‰“ç‰†</a>
        <a href="#conclusion" class="nav-button px-3 py-2 rounded-md text-sm font-semibold text-gray-700 hover:bg-gray-100">ğŸ‰ æœ€çµ‚æˆåŠŸ</a>
      </div>
    </div>
  </nav>

  <!-- Main Content --><article class="max-w-5xl mx-auto p-4 sm:p-6 content">

    <!-- Introduction --><section>
      <p class="text-lg sm:text-xl intro">é€™æ˜¯ä¸€ä»½ç‰¹åˆ¥çš„ç­†è¨˜ã€‚å®ƒè¨˜éŒ„äº†æˆ‘åœ¨é€™å€‹é€±æœ«ï¼ˆ2025å¹´11æœˆ1æ—¥-3æ—¥ï¼‰æ‰€ç¶“æ­·çš„ä¸€åˆ‡ã€‚æˆ‘å¾ä¸€å€‹èˆˆå¥®çš„åˆå­¸è€…ï¼ŒæŠŠ AI åŠ©ç†ä¸²æ¥åˆ°æˆ‘çš„ç¶²ç«™ä¸Šï¼Œåˆ°é€±äº”æ™šä¸Šç™¼ç¾ API é‡‘é‘°è¢«ç›œç”¨ã€æ”¶åˆ° Google Cloud å¯„ä¾†çš„å·¨é¡å¸³å–®å’Œåš´é‡è­¦å‘Šï¼Œç„¶å¾ŒèŠ±äº†æ•´å€‹é€±æœ«ï¼Œèˆ‡æˆ‘çš„ AI ç¨‹å¼å¤¥ä¼´ä¸€èµ·ï¼Œå¾é›¶é–‹å§‹é‡æ§‹æˆ‘çš„ç¶²ç«™æ¶æ§‹ã€å­¸ç¿’å‰å¾Œç«¯åˆ†é›¢ã€ææ‡‚ CI/CD è‡ªå‹•åŒ–éƒ¨ç½²ï¼Œä¸¦åœ¨ç„¡æ•¸æ¬¡çš„ã€Œé¬¼æ‰“ç‰†ã€é™¤éŒ¯å¾Œï¼Œæœ€çµ‚æˆåŠŸçš„å®Œæ•´æ­·ç¨‹ã€‚</p>
      <p>æˆ‘å¸Œæœ›é€™ä»½ç­†è¨˜èƒ½çµ¦æ‰€æœ‰åƒæˆ‘ä¸€æ¨£çš„åˆå­¸è€…ä¸€å€‹æœ€åš´å²çš„è­¦æƒ•ï¼Œå’Œæœ€æœ‰åƒ¹å€¼çš„åƒè€ƒã€‚</p>
    </section>

    <!-- Part 1: The Nightmare Begins --><section id="danger">
      <h1><i class="fas fa-bomb text-red-700"></i>ç« ç¯€ä¸€ï¼šé€±äº”æ™šä¸Šçš„éœ‡æ’¼æ•™è‚² (é‡‘é‘°å¤–æ´©)</h1>
      <p>ä¸€åˆ‡éƒ½ç™¼ç”Ÿå¾—å¾ˆå¿«ã€‚æˆ‘ä¸€é–‹å§‹ç‚ºäº†æ–¹ä¾¿æ¸¬è©¦ï¼ŒçŠ¯äº†ä¸€å€‹**æœ€è‡´å‘½çš„éŒ¯èª¤**ï¼šæˆ‘æŠŠ Google AI çš„ API é‡‘é‘° (API Key) **ç›´æ¥å¯«æ­»åœ¨æˆ‘çš„å‰ç«¯ `index.html` æª”æ¡ˆä¸­**ï¼Œä¸¦æŠŠå®ƒæ¨é€ (push) åˆ°äº†å…¬é–‹çš„ GitHub å„²å­˜åº«ã€‚</p>
      
      <h3 class="mt-8">âŒ ç½é›£æ€§çš„éŒ¯èª¤ç¨‹å¼ç¢¼ (åƒè¬åˆ¥å­¸)</h3>
      <p>é€™å°±æ˜¯æˆ‘æœ€åˆçš„ç¨‹å¼ç¢¼ï¼Œå®ƒç­‰æ–¼æ˜¯æŠŠæˆ‘çš„ä¿¡ç”¨å¡è™Ÿè²¼åœ¨ç¶²è·¯ä¸Šï¼š</p>
      <pre><code>&lt;!-- index.html (èˆŠçš„ã€ä¸å®‰å…¨çš„ç‰ˆæœ¬) --&gt;
&lt;script&gt;
  // â›”ï¸ è‡´å‘½éŒ¯èª¤ï¼šé‡‘é‘°ç›´æ¥æš´éœ²åœ¨å‰ç«¯ç¨‹å¼ç¢¼ä¸­ï¼
  const API_KEY = "AIzaSy... (é€™å°±æ˜¯æˆ‘è¢«ç›œç”¨çš„é‡‘é‘°)";
  
  async function askAssistant(query) {
    // æ©Ÿå™¨äºº (Bot) åªè¦æƒæé€™æ®µç¨‹å¼ç¢¼ï¼Œå°±èƒ½æ‹¿åˆ°æˆ‘çš„é‡‘é‘°
    const response = await fetch(`httpss://google.ai.api/v1?key=${API_KEY}`, {
      // ...
    });
  }
&lt;/script&gt;</code></pre>

      <h3 class="mt-8">é€±äº”æ™šä¸Šçš„è­¦ç¤º (é™„åœ–)</h3>
      <p>åˆ°äº†é€±äº”æ™šä¸Šï¼Œæˆ‘æ”¶åˆ°äº† Google Cloud çš„è­¦ç¤ºä¿¡ï¼Œç™»å…¥å¾Œçœ‹åˆ°äº†è®“æˆ‘å¿ƒè‡Ÿåœæ­¢çš„ç•«é¢ï¼š</p>
      
      <!-- âœ… [åœ–ç‰‡æ›´æ–°] ä¾ç…§æŒ‡ç¤ºï¼Œæ’å…¥åœ–ç‰‡ 1 -->
      <div class="my-6">
        <img src="https://i.urusai.cc/orXIm.PNG" alt="AI å¤¥ä¼´çµ¦å‡ºçš„é‡‘é‘°å¤–æ´©è™•ç†å»ºè­°" class="w-full rounded-lg shadow-md border">
      </div>

      <p>æˆ‘çš„ AI ç¨‹å¼å¤¥ä¼´ç«‹åˆ»å¹«æˆ‘åˆ†æäº†é€™äº›æˆªåœ–ï¼š</p>
      <ul>
        <li>**ç•°å¸¸æµé‡**ï¼šAPI è«‹æ±‚åœ¨ 10 æœˆ 30 æ—¥çªç„¶é£†å‡åˆ°è¿‘ 900 è¬æ¬¡è«‹æ±‚å’Œ 4000 è¬å€‹ Tokenã€‚é€™çµ•å°ä¸æ˜¯æ­£å¸¸ç”¨é‡ã€‚</li>
        <li>**å¤©åƒ¹å¸³å–®**ï¼šæ”»æ“Šè€…åœ¨çŸ­çŸ­å¹¾å¤©å…§ï¼Œç”¨æˆ‘çš„é‡‘é‘°ç”¢ç”Ÿäº†è¶…é **$6,100 ç¾å…ƒ** (ç´„ 18 è¬å°å¹£) çš„è²»ç”¨ï¼</li>
      </ul>
      
      <!-- âœ… [åœ–ç‰‡æ›´æ–°] ä¾ç…§æŒ‡ç¤ºï¼Œæ’å…¥åœ–ç‰‡ 2 å’Œ 3 -->
      <div class="image-gallery grid-cols-1 md:grid-cols-2">
        <img src="https://i.urusai.cc/eGaJ2.jpg" alt="AI å¤¥ä¼´åˆ†æç”¨é‡åœ–è¡¨ï¼šè«‹æ±‚èˆ‡éŒ¯èª¤ç‡æš´å¢">
        <img src="https://i.urusai.cc/VqwiC.jpg" alt="API é‡‘é‘°ç”¨é‡æš´å¢çš„åœ–è¡¨">
      </div>
      
      <h3 class="mt-8">å¹¸é‹èˆ‡è­¦æƒ• (é™„åœ–)</h3>
      <p>ä¸å¹¸ä¸­çš„å¤§å¹¸æ˜¯ï¼Œæˆ‘çš„å¸³æˆ¶ä¼¼ä¹æœ‰æ–°ç”¨æˆ¶çš„ã€Œä¿ƒéŠ·é¡åº¦ (PROMOTION)ã€ï¼Œå‰›å¥½æŠµéŠ·äº†é€™ç­†è²»ç”¨ï¼Œç¸½é‡‘é¡è®Šæˆäº† `$0.00`ã€‚</p>
      
      <!-- âœ… [åœ–ç‰‡æ›´æ–°] ä¾ç…§æŒ‡ç¤ºï¼Œæ’å…¥åœ–ç‰‡ 4 å’Œ 5 -->
      <div class="image-gallery grid-cols-1 md:grid-cols-2">
        <img src="https://i.urusai.cc/86YvM.jpg" alt="AI å¤¥ä¼´åˆ†æå¸³å–®æ˜ç´°ï¼šç¢ºèªé‡‘é‘°å·²é­æƒ¡æ„æ¿«ç”¨">
        <img src="https://i.urusai.cc/xrJG1.jpg" alt="å¤©åƒ¹å¸³å–®æ˜ç´°ï¼Œé¡¯ç¤ºå·¨é¡è²»ç”¨å’Œä¿ƒéŠ·æŠµéŠ·">
      </div>
      
      <p>Google çš„è­¦å‘Šéå¸¸æ¸…æ¥šï¼šã€Œ**é‡‘é‘°å¿…é ˆç«‹å³ä½œå»¢**ã€ã€ã€Œ**é¡åº¦å·²ç”¨ç›¡**ã€ã€ã€Œ**ä¸‹æ¬¡å°±æ˜¯å¤©åƒ¹å¸³å–®**ã€ã€‚</p>
      
      <!-- âœ… [åœ–ç‰‡æ›´æ–°] ä¾ç…§æŒ‡ç¤ºï¼Œæ’å…¥åœ–ç‰‡ 6 -->
      <div class="my-6">
         <img src="https://i.urusai.cc/b06X2.jpg" alt="AI å¤¥ä¼´ç¸½çµè­¦å‘Šï¼šé‡‘é‘°é ˆä½œå»¢ï¼Œé¡åº¦å·²ç›¡ï¼Œä¸‹æ¬¡å°‡æ”¶è²»" class="w-full rounded-lg shadow-md border">
      </div>

      <p>æˆ‘ç«‹åˆ»ç™»å…¥ Google Cloudï¼Œ**åˆªé™¤äº†é€™æŠŠè¢«ç›œç”¨çš„é‡‘é‘°**ï¼Œä¸¦é–‹å§‹äº†é€™å€‹æ¼«é•·çš„é€±æœ«ä¿®å¾©ä¹‹æ—…ã€‚</p>
    </section>

    <!-- Part 2: The Correct Architecture --><section id="architecture">
      <h1><i class="fas fa-shield-alt text-green-600"></i>ç« ç¯€äºŒï¼šå»ºç«‹å®‰å…¨çš„æ–°æ¶æ§‹ (å‰å¾Œç«¯åˆ†é›¢)</h1>
      <p>æˆ‘å­¸åˆ°çš„æ•™è¨“æ˜¯ï¼š**é‡‘é‘°çµ•å°ä¸èƒ½å‡ºç¾åœ¨å‰ç«¯**ã€‚æˆ‘å€‘å¿…é ˆé‡æ§‹æ¶æ§‹ï¼ŒæŠŠã€Œå‰ç«¯ (åº—é¢)ã€å’Œã€Œå¾Œç«¯ (å»šæˆ¿)ã€å¾¹åº•åˆ†é–‹ã€‚</p>
      
      <div class="grid md:grid-cols-2 gap-6 my-6">
        <div class="bg-white p-6 rounded-lg shadow">
          <h3 class="mt-0 text-xl font-semibold"><i class="fas fa-store mr-2 text-blue-500"></i>å‰ç«¯ (Cloudflare Pages)</h3>
          <p>é€™æ˜¯æˆ‘çš„ `xiaoliuqiu` å°ˆæ¡ˆï¼Œä¹Ÿå°±æ˜¯ `index.html`ã€‚</p>
          <ul>
            <li><strong>è§’è‰²ï¼š</strong> åº—é¢æ«ƒæª¯ã€‚</li>
            <li><strong>ä»»å‹™ï¼š</strong> é¡¯ç¤º UIã€æ¥æ”¶ä½¿ç”¨è€…è¼¸å…¥ã€‚</li>
            <li><strong>é‡‘é‘°ï¼š</strong> **å®Œå…¨æ²’æœ‰**é‡‘é‘°ã€‚</li>
            <li><strong>å‘¼å«å°è±¡ï¼š</strong> åªå‘¼å«æˆ‘å€‘è‡ªå·±çš„å¾Œç«¯ `ai-worker`ã€‚</li>
          </ul>
        </div>
        <div class="bg-white p-6 rounded-lg shadow">
          <h3 class="mt-0 text-xl font-semibold"><i class="fas fa-server mr-2 text-gray-700"></i>å¾Œç«¯ (Cloudflare Worker)</h3>
          <p>é€™æ˜¯æˆ‘æ–°å»ºçš„ `ai-worker` å°ˆæ¡ˆï¼Œä¹Ÿå°±æ˜¯ `index.js`ã€‚</p>
          <ul>
            <li><strong>è§’è‰²ï¼š</strong> å»šæˆ¿é‡åœ°ã€‚</li>
            <li><strong>ä»»å‹™ï¼š</strong> æ¥æ”¶å‰ç«¯è«‹æ±‚ã€å‘¼å« Google AIã€‚</li>
            <li><strong>é‡‘é‘°ï¼š</strong> **å®‰å…¨åœ°**å„²å­˜åœ¨ Cloudflare çš„ã€Œç¥•å¯†ä¿éšªç®±ã€ã€‚</li>
            <li><strong>å‘¼å«å°è±¡ï¼š</strong> Google AIã€‚</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Part 3: Step-by-Step Guide --><section id="tutorial">
      <h1><i class="fas fa-cogs text-blue-500"></i>ç« ç¯€ä¸‰ï¼šè¨­å®šå…¨è‡ªå‹•åŒ–éƒ¨ç½² (GitHub Actions)</h1>
      <p>åœ¨é€™æ¬¡é‡æ§‹ä¸­ï¼Œæˆ‘å€‘ä¸å†ã€Œæ‰‹å‹•ã€ä¸Šå‚³ç¨‹å¼ç¢¼ã€‚æˆ‘å€‘è¨­å®šäº†ã€ŒGitHub Actionsã€(è‡ªå‹•åŒ–éƒ¨ç½²)ï¼Œåªè¦æˆ‘ä¸€ä¿®æ”¹ GitHub ä¸Šçš„ç¨‹å¼ç¢¼ï¼Œå®ƒå°±æœƒ**è‡ªå‹•**å¹«æˆ‘éƒ¨ç½²åˆ° Cloudflareï¼Œä¸¦ä¸”**è‡ªå‹•æŠŠé‡‘é‘°å®‰å…¨åœ°æ³¨å…¥**ã€‚</p>
      <p>é€™æ˜¯æˆ‘å€‘æˆåŠŸçš„é—œéµï¼Œå®ƒè§£æ±ºäº†æ‰€æœ‰ã€Œé‡‘é‘°æ¶ˆå¤±ã€å’Œã€Œç‰ˆæœ¬éŒ¯äº‚ã€çš„å•é¡Œã€‚</p>

      <h3>1. åœ¨ GitHub è¨­å®šã€Œç¥•å¯†ä¿éšªç®±ã€(Secrets)</h3>
      <p>æˆ‘å€‘åœ¨ GitHub å°ˆæ¡ˆçš„ `Settings` > `Secrets and variables` > `Actions` è£¡ï¼Œè¨­å®šäº† 3 å€‹é—œéµçš„ç¥•å¯†ï¼š</p>
      <ul>
        <li>`CF_ACCOUNT_ID`ï¼šæˆ‘çš„ Cloudflare å¸³æˆ¶ ID (åœ°å€)ã€‚</li>
        <li>`CF_API_TOKEN`ï¼šæˆ‘å€‘åœ¨ Cloudflare å»ºç«‹çš„ã€Œè‡ªè¨‚æ¬Šæ–ã€(é‘°åŒ™)ï¼Œå®ƒæœ‰æ¬Šé™éƒ¨ç½² Pages å’Œ Workersã€‚</li>
        <li>`GOOGLE_API_KEY`ï¼šæˆ‘**å…¨æ–°å»ºç«‹**çš„ Google AI é‡‘é‘° (çµ•å°ç„¡é™åˆ¶)ã€‚</li>
      </ul>
      <p>(é€™å¼µåœ–å°±æ˜¯æˆ‘å€‘å¡é—œæœ€ä¹…çš„åœ°æ–¹ï¼š`CF_API_TOKEN` å’Œ `CF_ACCOUNT_ID` ä¸€é–‹å§‹æ˜¯éŒ¯çš„ï¼Œå°è‡´ `401 Authentication Error`)</p>

      <h3>2. å»ºç«‹ã€Œå‰ç«¯ã€è‡ªå‹•éƒ¨ç½² (deploy.yml)</h3>
      <p>æˆ‘å€‘åœ¨ `.github/workflows/deploy.yml` è¨­å®šäº†éƒ¨ç½²ã€Œå‰ç«¯ã€çš„è¦å‰‡ã€‚</p>
      <pre><code># .github/workflows/deploy.yml
name: Deploy to Cloudflare Pages
on:
  push:
    paths:
      - 'online/**' # åªæœ‰ online/ è³‡æ–™å¤¾è®Šå‹•æ‰åŸ·è¡Œ
      # ...
jobs:
  build-and-deploy:
    # ...
    steps:
      # ...
      - name: Deploy to Cloudflare Pages
        uses: cloudflare/pages-action@v1
        with:
          apiToken: ${{ secrets.CF_API_TOKEN }} # è®€å–ç¥•å¯†
          accountId: ${{ secrets.CF_ACCOUNT_ID }} # è®€å–ç¥•å¯†
          projectName: xiaoliuqiu # éƒ¨ç½²åˆ°å‰ç«¯å°ˆæ¡ˆ
          directory: online # åªéƒ¨ç½² online/ è³‡æ–™å¤¾
</code></pre>

      <h3>3. å»ºç«‹ã€Œå¾Œç«¯ã€è‡ªå‹•éƒ¨ç½² (deploy-worker.yml)</h3>
      <p>é€™æ˜¯æˆ‘å­¸åˆ°æœ€é‡è¦çš„ä¸€èª²ï¼æˆ‘å€‘å»ºç«‹äº†**ç¬¬äºŒå€‹**éƒ¨ç½²æª”æ¡ˆ `deploy-worker.yml`ï¼Œå°ˆé–€ç”¨ä¾†éƒ¨ç½²ã€Œå¾Œç«¯ã€ã€‚</p>
      <pre><code># .github/workflows/deploy-worker.yml
name: Deploy ai-worker
on:
  push:
    paths:
      - 'ai-worker/**' # åªæœ‰ ai-worker/ è³‡æ–™å¤¾è®Šå‹•æ‰åŸ·è¡Œ
      # ...
jobs:
  deploy:
    # ...
    steps:
      # ...
      - name: Deploy ai-worker
        uses: cloudflare/wrangler-action@v3
        with:
          apiToken: ${{ secrets.CF_API_TOKEN }} # è®€å– Cloudflare é‘°åŒ™
          accountId: ${{ secrets.CF_ACCOUNT_ID }} # è®€å– Cloudflare åœ°å€
          workingDirectory: 'ai-worker' # æŒ‡å®šéƒ¨ç½² ai-worker/ è³‡æ–™å¤¾
          
          # âœ… æœ€é—œéµçš„ä¸€æ­¥ï¼š
          # è‡ªå‹•å¾ GitHub Secrets æŠ“å–é‡‘é‘°ï¼Œä¸¦å®‰å…¨ä¸Šå‚³åˆ° Worker
          secrets: |
            GOOGLE_API_KEY
        env:
          # é€™æ˜¯é‡‘é‘°çš„å€¼
          GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
</code></pre>
    </section>

    <!-- Part 4: Debugging Journey --><section id="debugging">
      <h1><i class="fas fa-search-plus text-purple-600"></i>ç« ç¯€å››ï¼š12 å°æ™‚çš„ã€Œé¬¼æ‰“ç‰†ã€é™¤éŒ¯ä¹‹æ—…</h1>
      <p>é€™æ˜¯æˆ‘å’Œã€Œç¨‹å¼å¤¥ä¼´ã€ä¸€èµ·ã€Œé¬¼æ‰“ç‰†ã€12 å°æ™‚çš„åµéŒ¯ç´€éŒ„ã€‚**é€™ä¹Ÿæ˜¯æˆ‘å­¸åˆ°æœ€å¤š**çš„åœ°æ–¹ã€‚æˆ‘å€‘ä¸€ç›´è¢«ã€Œç´…é¯¡é­šã€(èª¤å°äººçš„ç·šç´¢) æ¬ºé¨™ã€‚</p>

      <div class="border-l-4 border-gray-400 pl-4 my-6">
        <h3 class="mt-0">é¬¼æ‰“ç‰† 1ï¼š`models/gemini-pro is not found for API version v1beta`</h3>
        <p class="error-msg">... "models/gemini-pro is not found for API version v1beta" ...</p>
        <p><strong>æˆ‘çš„éŒ¯èª¤è¨ºæ–· (ç´…é¯¡é­š)ï¼š</strong> æˆ‘ä»¥ç‚ºæ˜¯ `v1beta` ç‰ˆæœ¬å¤ªèˆŠï¼Œå°è‡´äº†éŒ¯èª¤ã€‚</p>
        <p><strong>çœŸç›¸ï¼š</strong> å•é¡Œä¸æ˜¯ `v1beta`ï¼Œè€Œæ˜¯ `gemini-pro` é€™å€‹æ¨¡å‹åœ¨ `v1beta` ä¸­çœŸçš„ã€Œæ‰¾ä¸åˆ°äº†ã€ã€‚</p>
        <p><strong>å¾Œæœï¼š</strong> æˆ‘æŠŠç¨‹å¼ç¢¼ æ”¹æˆå‘¼å« `v1` ç‰ˆæœ¬ï¼Œé€™è®“æˆ‘å€‘**èµ°éŒ¯äº†ç¬¬ä¸€æ­¥**ã€‚</p>
      </div>

      <div class="border-l-4 border-red-500 pl-4 my-6">
        <h3 class="mt-0">é¬¼æ‰“ç‰† 2ï¼š`404 Not Found` (ç•¶æˆ‘å€‘ä½¿ç”¨ `v1` æ™‚)</h3>
        <p class="error-msg">... "models/gemini-pro is not found for API version v1" ...</p>
        <p><strong>æˆ‘çš„éŒ¯èª¤è¨ºæ–· (ç´…é¯¡é­š)ï¼š</strong> æˆ‘ä»¥ç‚ºã€Œæ—¢ç„¶ `v1` ä¹Ÿæ‰¾ä¸åˆ°ï¼Œé‚£ä¸€å®šæ˜¯å› ç‚º Google å¼·åˆ¶ç¶å®šå¸³å–®çš„å°ˆæ¡ˆ å¿…é ˆä½¿ç”¨æ›´é«˜ç´šçš„ **Vertex AI API**ã€ã€‚</p>
        <p><strong>çœŸç›¸ï¼š</strong> é‚„æ˜¯éŒ¯äº†ï¼Google åªæ˜¯**ä¸è®“**æˆ‘çš„å°ˆæ¡ˆ ä½¿ç”¨ `Generative Language API` è€Œå·²ã€‚</p>
        <p><strong>å¾Œæœï¼š</strong> æˆ‘å€‘èŠ±äº† 10 å€‹å°æ™‚ï¼ŒéŒ¯èª¤åœ°å˜—è©¦è®“ã€ŒVertex AIã€é‹ä½œã€‚</p>
      </div>

      <div class="border-l-4 border-yellow-500 pl-4 my-6">
        <h3 class="mt-0">é¬¼æ‰“ç‰† 3ï¼š`401 Authentication Error` (Cloudflare é‡‘é‘°éŒ¯èª¤)</h3>
        <p class="error-msg">... {"code":10000,"message":"Authentication error"} ...</p>
        <p><strong>è¨ºæ–·ï¼š</strong> é€™æ˜¯**çœŸæ­£çš„å•é¡Œ**ï¼é€™ä¸æ˜¯ AI éŒ¯èª¤ï¼Œè€Œæ˜¯ GitHub ç„¡æ³•ç™»å…¥ Cloudflareã€‚</p>
        <p><strong>çœŸç›¸ï¼š</strong> æˆ‘ GitHub Secrets è£¡çš„ `CF_API_TOKEN` å’Œ `CF_ACCOUNT_ID` æ˜¯**ç©ºç™½æˆ–éŒ¯èª¤çš„**ã€‚</p>
        <p><strong>è§£æ±ºï¼š</strong> æˆ‘å€‘å» Cloudflare é‡æ–°å»ºç«‹äº†**æ­£ç¢ºçš„** `CF_ACCOUNT_ID` å’Œæœ‰ `Pages` + `Workers` æ¬Šé™çš„ `CF_API_TOKEN`ï¼Œä¸¦å¡«å› GitHub Secretsã€‚</p>
      </div>

      <div class="border-l-4 border-red-500 pl-4 my-6">
        <h3 class="mt-0">é¬¼æ‰“ç‰† 4ï¼š`401 API Key æ¬Šé™ä¸è¶³` (Vertex AI å¤±æ•—)</h3>
        <p class="error-msg">... "API Key æ¬Šé™ä¸è¶³æˆ– Vertex AI æœªå•Ÿç”¨ (401/403)" ...</p>
        <p><strong>è¨ºæ–·ï¼š</strong> ç•¶æˆ‘å€‘ä¿®æ­£äº† Cloudflare é‡‘é‘° ä¸¦æˆåŠŸéƒ¨ç½²ã€ŒVertex AIã€ç‰ˆ `index.js` å¾Œï¼Œç«‹åˆ»æ”¶åˆ°äº†é€™å€‹éŒ¯èª¤ã€‚</p>
        <p><strong>çœŸç›¸ï¼š</strong> é€™è­‰å¯¦äº†ã€ŒVertex AIã€**æ˜¯éŒ¯èª¤çš„é“è·¯**ã€‚Google å‘Šè¨´æˆ‘å€‘ï¼šã€Œä½ æ‹¿çš„ Google AI é‡‘é‘°ï¼Œæ²’æœ‰æ¬Šé™ä¾†é–‹ Vertex AI çš„é–€ã€‚ã€</p>
        <p><strong>å¾Œæœï¼š</strong> é€™è®“æˆ‘å€‘çµ‚æ–¼é†’æ‚Ÿï¼</p>
      </div>

      <div class="border-l-4 border-green-600 pl-4 my-6">
        <h3 class="mt-0">æœ€çµ‚çš„çœŸç›¸ (ä½ æœ€å¾Œçš„ `index.js`)</h3>
        <p>æˆ‘å€‘çµ‚æ–¼å›åˆ°äº†**åŸé»**ï¼š</p>
        <ol>
          <li>**APIï¼š** å¿…é ˆä½¿ç”¨ `Generative Language API` (`generativelanguage.googleapis.com`)ã€‚</li>
          <li>**ç‰ˆæœ¬ï¼š** å¿…é ˆä½¿ç”¨ `v1beta` (å› ç‚º `v1` å°æˆ‘çš„å°ˆæ¡ˆ ä¸å¯ç”¨)ã€‚</li>
          <li>**æ¨¡å‹ï¼š** **é€™æ‰æ˜¯çœŸæ­£çš„éŒ¯èª¤é»ï¼** `gemini-pro` åœ¨ `v1beta` ä¸­ä¸å¯ç”¨ï¼Œæˆ‘å€‘å¿…é ˆæ›æˆ**åˆ¥çš„**æ¨¡å‹ï¼</li>
        </ol>
        <p>ä½ æœ€å¾ŒæˆåŠŸçš„ `index.js` ç¨‹å¼ç¢¼ï¼Œå°±æ˜¯ç”¨äº†é€™å€‹**æœ€çµ‚æ­£ç¢º**çš„çµ„åˆï¼š</p>
        <pre><code>// æœ€çµ‚æˆåŠŸçš„ index.js é—œéµè¨­å®š
const PREFERRED_MODEL = "gemini-2.5-flash"; // âœ… æ›æˆä¸€å€‹å¯ç”¨çš„æ¨¡å‹ï¼

// ...
const endpoint = `https://generativelanguage.googleapis.com/v1beta/models/${PREFERRED_MODEL}:generateContent?key=${key}`; // âœ… ç”¨å› v1betaï¼
</code></pre>
      </div>
    </section>

    <!-- Conclusion --><section id="conclusion">
      <h1><i class="fas fa-laugh-beam text-yellow-500"></i>ç« ç¯€äº”ï¼šæœ€çµ‚æˆåŠŸï¼(èˆ‡å­¸åˆ°çš„æ•™è¨“)</h1>
      <p>åœ¨ 2025 å¹´ 11 æœˆ 3 æ—¥æ—©ä¸Š 6 é» 55 åˆ†ï¼Œåœ¨æˆ‘æŠŠ `index.js` æ›å› `v1beta` + `gemini-2.5-flash` ä¸¦æœ€å¾Œä¸€æ¬¡éƒ¨ç½²å¾Œ... **å®ƒçµ‚æ–¼æˆåŠŸäº†ï¼**</p>
      
      <div class="my-6">
        <img src="https://i.imgur.com/L1n8m4K.jpg" alt="AI åŠ©ç†æˆåŠŸå›è¦†çš„ç•«é¢" class="w-full rounded-lg shadow-lg">
      </div>
      
      <p>é€™ 12 å°æ™‚çš„é¬¼æ‰“ç‰†é›–ç„¶ç—›è‹¦ï¼Œä½†å®ƒå¼·è¿«æˆ‘å­¸æœƒäº†ï¼š</p>
      <ul class="text-lg">
        <li><strong>é‡‘é‘°å®‰å…¨é«˜æ–¼ä¸€åˆ‡ï¼š</strong> æ°¸é ä¸è¦åœ¨å‰ç«¯æˆ–å…¬é–‹çš„ GitHub å„²å­˜åº«ä¸­æš´éœ² API é‡‘é‘°ã€‚</li>
        <li><strong>æ¶æ§‹çš„é‡è¦æ€§ï¼š</strong> ã€Œå‰å¾Œç«¯åˆ†é›¢ã€æ˜¯ä¿è­·é‡‘é‘°çš„å”¯ä¸€é€”å¾‘ã€‚</li>
        <li>**è‡ªå‹•åŒ–æ˜¯æ•‘è´–ï¼š** GitHub Actions (CI/CD) é›–ç„¶è¨­å®šå¾ˆç—›è‹¦ (å°¤å…¶æ˜¯ `CF_API_TOKEN` çš„æ¬Šé™)ï¼Œä½†å®ƒä¸€å‹æ°¸é€¸åœ°è§£æ±ºäº†ã€Œé‡‘é‘°ç®¡ç†ã€å’Œã€Œç‰ˆæœ¬æ··äº‚ã€çš„å•é¡Œã€‚</li>
        <li>**éŒ¯èª¤è¨Šæ¯æ˜¯ä½ çš„æœ‹å‹ï¼š**
          <ul>
            <li>`403/401 Authentication Error` = ä½ çš„ã€ŒCloudflare é‡‘é‘°ã€éŒ¯äº†ã€‚</li>
            <li>`401 API Key æ¬Šé™ä¸è¶³` = ä½ çš„ã€ŒGoogle é‡‘é‘°ã€æ¬Šé™ éŒ¯äº†ã€‚</li>
            <li>`404 Model Not Found` = ä½ çš„ã€Œæ¨¡å‹åç¨±ã€æˆ–ã€ŒAPI ç‰ˆæœ¬ã€é¸éŒ¯äº†ã€‚</li>
            <li>`Missing API Key` = ä½ çš„å¾Œç«¯ç¨‹å¼ è®€ä¸åˆ°ã€Œç’°å¢ƒè®Šæ•¸ã€ã€‚</li>
          </ul>
        </li>
      </ul>
      <p>æ„Ÿè¬æˆ‘çš„ AI ç¨‹å¼å¤¥ä¼´ï¼Œé›–ç„¶æˆ‘å€‘ä¸€èµ·èµ°éŒ¯äº†è·¯ï¼Œä½†ä¹Ÿä¸€èµ·æŠŠæ‰€æœ‰å•é¡Œéƒ½ä¿®å¥½äº†ã€‚é€™æ˜¯ä¸€å ‚åƒ¹å€¼ $6,100 ç¾å…ƒ (å¹¸å¥½æ²’ä»˜éŒ¢) çš„å¯¶è²´èª²ç¨‹ï¼</p>
    </section>
  </article>

  <!-- Footer --><footer class="bg-gray-800 text-gray-400 mt-12 py-6 px-4">
    <div class="max-w-5xl mx-auto text-center">
      <p>é€™ä»½ç­†è¨˜ç”± Hjuming èˆ‡ã€Œç¨‹å¼å¤¥ä¼´ã€å…±åŒå®Œæˆã€‚</p>
      <p>2025å¹´11æœˆ03æ—¥</p>
    </div>
  </footer>

  <!-- JavaScript for Mobile Menu & FAQ Accordion --><script>
    document.addEventListener('DOMContentLoaded', () => {
      // --- Mobile Menu ---
      const menuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      
      // âœ… [éŒ¯èª¤ä¿®æ­£] 
      // æ–°å¢ã€Œnull æª¢æŸ¥ã€ï¼Œç¢ºä¿ menuButton å’Œ mobileMenu å…ƒç´ éƒ½å­˜åœ¨å¾Œï¼Œæ‰åŸ·è¡Œå¾ŒçºŒå‹•ä½œ
      // é€™å¯ä»¥é˜²æ­¢åœ¨ HTML å…ƒç´ å°šæœªå®Œå…¨è¼‰å…¥æ™‚ï¼ŒJavaScript åŸ·è¡ŒéŒ¯èª¤
      if (menuButton && mobileMenu) {
        const menuIcon = menuButton.querySelector('i');
        
        // ä¹Ÿé †ä¾¿æª¢æŸ¥ menuIcon æ˜¯å¦å­˜åœ¨
        if (menuIcon) {
          menuButton.addEventListener('click', () => {
            const isHidden = mobileMenu.classList.toggle('hidden');
            if (isHidden) {
              menuIcon.classList.remove('fa-times');
              menuIcon.classList.add('fa-bars');
            } else {
              menuIcon.classList.remove('fa-bars');
              menuIcon.classList.add('fa-times');
            }
          });

          mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
              mobileMenu.classList.add('hidden');
              menuIcon.classList.remove('fa-times');
              menuIcon.classList.add('fa-bars');
            });
          });
        }
      }

      // --- FAQ Accordion (æŠ˜ç–Šè¡¨å–®) ---
      const faqQuestions = document.querySelectorAll('.faq-question');
      faqQuestions.forEach(question => {
        question.addEventListener('click', () => {
          // åˆ‡æ›ç•¶å‰é»æ“Šçš„ active ç‹€æ…‹
          question.classList.toggle('active');
        });
      });

    });
  </script>

</body>
</html>

